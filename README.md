# arch-aptstyle

**arch-aptstyle** æ˜¯ä¸€ä¸ª *â€œç¦»ç»å›é“å¼â€* çš„ç”¨äº **Arch Linux** çš„ `zsh` è„šæœ¬ï¼Œæ—¨åœ¨ä¸ºæ¥è‡ª **Debian**ã€**Ubuntu** ç­‰å‘è¡Œç‰ˆçš„ç”¨æˆ·ï¼Œæä¾›ç±» `apt` çš„åŒ…ç®¡ç†å‘½ä»¤å°è£…ã€‚

é€šè¿‡æä¾›ä¸€ç³»åˆ— `apt` é£æ ¼çš„ Arch Linux åŒ…ç®¡ç†æŒ‡ä»¤ï¼Œä½¿ç”¨æˆ·åœ¨è¿ç§»è‡³ Arch æ—¶èƒ½å¤Ÿä»¥æ›´ç†Ÿæ‚‰çš„æ“ä½œä¹ æƒ¯å¿«é€Ÿä¸Šæ‰‹ï¼Œæ— éœ€é‡æ–°å­¦ä¹ å„ç±»åŒ…ç®¡ç†å·¥å…·çš„è¯­æ³•ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¾èµ–é¡¹

- `Arch Linux` æˆ–åŸºäº `Arch` çš„Linuxå‘è¡Œç‰ˆ
- `zsh` ç»ˆç«¯ç¯å¢ƒ
- *(éå¿…é¡»)* å»ºè®®ä½¿ç”¨[Oh My Zsh](https://ohmyz.sh/)ä½œä¸ºæ’ä»¶ç®¡ç†å™¨
- *(éå¿…é¡»)* å®‰è£…åŒ…ç®¡ç†å™¨ `yay` `paru` ä»¥ä½¿ç”¨æ‰€æœ‰åŠŸèƒ½

### å…‹éš†ä»“åº“

å¦‚æœä½ å®‰è£…äº† **Oh My Zsh**

```zsh
git clone https://github.com/mroldl001/arch-aptstyle.git ~/.oh-my-zsh/plugins
```

---

å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå°†å®ƒéšä¾¿ `clone` åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œæ¯”å¦‚`~/arch-aptstyle`

```zsh
git clone https://github.com/mroldl001/arch-aptstyle.git ~/arch-aptstyle
```

### åŠ è½½è„šæœ¬

å¦‚æœä½ å®‰è£…äº† **Oh My Zsh**ï¼Œåœ¨ `~/.zshrc` ä¸­åŠ å…¥

```zsh
plugins=(arch-aptstyle)
```

å¦‚æœä½ æ­¤å‰å·²ç»åˆ›å»ºè¿‡ plugins åˆ—è¡¨äº†ï¼Œç›´æ¥å°† arch-aptstyle åŠ å…¥åˆ°å…¶ä¸­å°±å¯ä»¥

---

å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå»ºè®®çš„åšæ³•æ˜¯åœ¨ `~/.zshrc` ä¸­åŠ å…¥

```zsh
source ~/arch-aptstyle/arch-aptstyle.zsh
```

è¿™æ ·ä¾¿äºåç»­çš„æ’ä»¶ç®¡ç†ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡ç›´æ¥åŠ è½½è¿™ä¸ª `.zsh` æ–‡ä»¶æ¥è®©å…¶ç”Ÿæ•ˆ

### é‡æ–°åŠ è½½é…ç½®

```zsh
source ~/.zshrc
```

ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ `pacman update` `yay remove <pkg>` `paru i <pkg>` ç­‰ä¸€ç³»åˆ—apté£æ ¼æŒ‡ä»¤æ¥è¿›è¡ŒåŒ…ç®¡ç†äº†ï¼

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å‘½ä»¤å¯¹ç…§è¡¨(é™„è¯´æ˜)

#### åŸºæœ¬æ“ä½œ

| å­å‘½ä»¤                                 | pacman å‘½ä»¤          | yay/paru å‘½ä»¤      | æ”¯æŒæƒ…å†µ        | è¯´æ˜           |
| ----------------------------------- | ------------------ | ---------------- | ----------- | ------------ |
| `install` / `i`                     | `sudo pacman -S`   | `paru/yay -S`    | âœ… å…¨éƒ¨æ”¯æŒ      | å®‰è£…è½¯ä»¶åŒ…        |
| `uninstall` / `remove` / `rm` / `r` | `sudo pacman -Rns` | `paru/yay -Rns`  | âœ… å…¨éƒ¨æ”¯æŒ      | å½»åº•åˆ é™¤è½¯ä»¶åŒ…ï¼ˆå«ä¾èµ–ï¼‰ |
| `update` / `upgrade` / `up` / `u`   | `sudo pacman -Syu` | `paru/yay -Syu`  | âœ… å…¨éƒ¨æ”¯æŒ      | æ›´æ–°å®˜æ–¹ä»“åº“æ‰€æœ‰åŒ…    |
| ä¸Šä¸€è¡Œå‘½ä»¤åŠ  `--aur`                      | *ä¸æ”¯æŒ*              | `paru/yay -Syua` | âŒ pacmanä¸æ”¯æŒ | ä»…æ›´æ–°AURåŒ…      |
| `search` / `s`                      | `pacman -Ss`       | `paru/yay -Ss`   | âœ… å…¨éƒ¨æ”¯æŒ      | æœç´¢è½¯ä»¶åŒ…        |

#### åŒ…ä¿¡æ¯æŸ¥è¯¢

| å­å‘½ä»¤            | pacman å‘½ä»¤    | yay/paru å‘½ä»¤          | æ”¯æŒæƒ…å†µ        | è¯´æ˜                                       |
| -------------- | ------------ | -------------------- | ----------- | ---------------------------------------- |
| `info`         | `pacman -Si` | `paru/yay -Si`       | âœ… å…¨éƒ¨æ”¯æŒ      | æŸ¥çœ‹åŒ…ä¿¡æ¯                                    |
| ä¸Šä¸€è¡Œå‘½ä»¤åŠ  `--aur` | *ä¸æ”¯æŒ*        | `paru/yay -Si --aur` | âŒ pacmanä¸æ”¯æŒ | AURåŒ…ä¿¡æ¯æŸ¥è¯¢                                 |
| `list` / `ls`  | `pacman -Q`  | `paru/yay -Q`        | âœ… å…¨éƒ¨æ”¯æŒ      | åˆ—å‡ºå·²å®‰è£…åŒ…ï¼Œå³å®é™…ä¸Šå¯¹åº”apté£æ ¼çš„ `list --installed`å‘½ä»¤ |
| ä¸Šä¸€è¡Œå‘½ä»¤åŠ  `--aur` | *ä¸æ”¯æŒ*        | `paru/yay -Qm`       | âŒ pacmanä¸æ”¯æŒ | åˆ—å‡ºAURå®‰è£…çš„åŒ…                                |
| `why`          | `pacman -Qi` | `paru/yay -Qi`       | âœ… å…¨éƒ¨æ”¯æŒ      | æŸ¥çœ‹åŒ…å®‰è£…åŸå›                                   |

#### ç³»ç»Ÿç»´æŠ¤

| å­å‘½ä»¤                  | pacman å‘½ä»¤       | yay/paru å‘½ä»¤       | æ”¯æŒæƒ…å†µ        | è¯´æ˜      |
| -------------------- | --------------- | ----------------- | ----------- | ------- |
| `clean` / `c`        | *ä¸æ”¯æŒ*           | `paru/yay -Sc`    | âŒ pacmanä¸æ”¯æŒ | æ¸…ç†ç¼“å­˜åŒ…   |
| `orphan` / `orphans` | `pacman -Qtd`   | `paru/yay -Qtd`   | âœ… å…¨éƒ¨æ”¯æŒ      | åˆ—å‡ºå­¤å„¿åŒ…   |
| `autoremove / ar`    | *ä½¿ç”¨pacman -Rns* | _ä½¿ç”¨paru/yay -Rns_ | âœ… å…¨éƒ¨æ”¯æŒ      | è‡ªåŠ¨åˆ é™¤å­¤å„¿åŒ… *(è°¨æ…ä½¿ç”¨)* |
| `check` / `ck`       | `pacman -Qk`    | `paru/yay -Qk`    | âœ… å…¨éƒ¨æ”¯æŒ      | æ£€æŸ¥åŒ…å®Œæ•´æ€§  |

#### é«˜çº§æ“ä½œ

| å­å‘½ä»¤               | pacman å‘½ä»¤ | yay/paru å‘½ä»¤           | æ”¯æŒæƒ…å†µ        | è¯´æ˜     |
| ----------------- | --------- | --------------------- | ----------- | ------ |
| `download` / `dl` | *ä¸æ”¯æŒ*     | `paru/yay -Sw`        | âŒ pacmanä¸æ”¯æŒ | ä»…ä¸‹è½½ä¸å®‰è£… |
| `diff`            | *ä¸æ”¯æŒ*     | `paru/yay -Du --diff` | âŒ pacmanä¸æ”¯æŒ | æŸ¥çœ‹ç‰ˆæœ¬å·®å¼‚ |

#### å…¶å®ƒæ“ä½œ

| å­å‘½ä»¤                      | pacman å‘½ä»¤       | yay/paru å‘½ä»¤       | æ”¯æŒæƒ…å†µ   | è¯´æ˜     |
| ------------------------ | --------------- | ----------------- | ------ | ------ |
| `help` / `-h` / `--help` | `pacman --help` | `paru/ysy --help` | âœ… å…¨éƒ¨æ”¯æŒ | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

#### æ³¨æ„äº‹é¡¹

- ä¸Šè¡¨æœªåˆ—å‡ºçš„å­å‘½ä»¤ä¼šç›´æ¥é€ä¼ ç»™åŸç”Ÿå‘½ä»¤
- pacman éœ€è¦ `sudo` æƒé™çš„æ“ä½œä¼šè‡ªåŠ¨æ·»åŠ ï¼Œç†è®ºä¸ŠåŠ ä¸åŠ  `sudo` éƒ½å¯ä»¥æ­£å¸¸å·¥ä½œ
- `yay` å’Œ `paru` å‘½ä»¤ä¾èµ–äºåŒååŒ…ç®¡ç†å™¨ï¼Œå®‰è£…åæ‰èƒ½ä½¿ç”¨ä¸Šè¿°å‘½ä»¤
- `update` å’Œ `upgrade` éƒ½å°è£…äº† `--Syu` ï¼Œä½ å¯ä»¥é€šè¿‡ä¸Šè¿°æŒ‡ä»¤æ¥æ›´æ–°å®˜æ–¹ä»“åº“çš„æ‰€æœ‰åŒ…

#### autoremove å‘½ä»¤çš„å®ç°å½¢å¼

æ‰§è¡Œ `-Qtdq` å‘½ä»¤ï¼Œè·å¾—å­¤å„¿åŒ…åŒ…ååèµ‹å€¼ç»™å˜é‡ `orphans` ï¼Œå¦‚æœ`orphans` ä¸ä¸ºç©ºåˆ™ä½¿ç”¨å¯¹åº”çš„åŒ…ç®¡ç†å™¨æ‰§è¡Œ `-Rns` åˆ é™¤æ“ä½œï¼Œå…¶ä¸­ `pacman` ä½¿ç”¨ `sudo` ææƒï¼Œå…¶ä»–å·¥å…·å¦‚ `paru` åˆ™ä¸åŠ  `sudo`ï¼Œå¦‚æœ`orphans` ä¸ºç©ºåˆ™è¾“å‡ºæç¤º

### å¸¸è§æç¤ºä¿¡æ¯åŠåº”å¯¹æŒ‡å—

| æç¤ºä¿¡æ¯               | åº”å¯¹æ–¹æ³• |
| ------------------ | ------- |
| `[E] arch-aptstyle:'pacman' not found. Please use an Arch-based system.` | è¯¥æ’ä»¶ä¸“ä¸º `Arch Linux` æˆ– åŸºäº `Arch` çš„ Linux å‘è¡Œç‰ˆè®¾è®¡ï¼Œ`pacman`å¦‚æœä¸å­˜åœ¨çš„è¯å¤§æ¦‚ç‡è¯´æ˜ä½ åœ¨ä½¿ç”¨å…¶å®ƒå‘è¡Œç‰ˆ |
| `[E] arch-aptstyle: ... does not support ... ` || ä½ æ‰€ä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ä¸æ”¯æŒè¯¥æ“ä½œï¼Œæ›´æ¢åŒ…ç®¡ç†å™¨æˆ–ä½¿ç”¨å…¶ä»–å‘½ä»¤ |
| `[I] arch-aptstyle:No orphan packages to remove.` || ä½ æ²¡æœ‰å­¤å„¿åŒ…ï¼Œä¸éœ€è¦æ¸…ç† |

## âœ¨ è‡´è°¢
- æ„Ÿè°¢ [sskka235](https://github.com/sskka235) ä¸º `dev` ç‰ˆæœ¬æ‰€æä¾›çš„æµ‹è¯•æ”¯æŒ
